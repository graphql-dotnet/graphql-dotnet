# GQL021: Nullable reference type argument should specify nullable parameter

|                        | Value   |
| ---------------------- | ------- |
| **Rule ID**            | GQL021  |
| **Category**           | Usage   |
| **Default severity**   | Warning |
| **Enabled by default** | Yes     |
| **Code fix provided**  | Yes     |
| **Introduced in**      | v9.0    |

## Cause

This rule is triggered when a nullable reference type is used as a type argument
for the `Argument` method without explicitly specifying the `nullable` parameter.

## Rule description

When using nullable reference types (e.g., `string?`) with the `Argument<T>`
method, you should explicitly specify `nullable: true` to make the nullability
intent clear and consistent with the GraphQL schema.

## How to fix violations

Add the `nullable: true` parameter to the `Argument` method call.

## Example of a violation

```c#
public class MyGraphType : ObjectGraphType
{
    public MyGraphType()
    {
        Field<StringGraphType>("hello")
            .Argument<string?>("name")
            .Resolve(context => $"Hello {context.GetArgument<string?>("name")}");
    }
}
```

## Example of how to fix

Add the `nullable: true` parameter:

```c#
public class MyGraphType : ObjectGraphType
{
    public MyGraphType()
    {
        Field<StringGraphType>("hello")
            .Argument<string?>("name", nullable: true)
            .Resolve(context => $"Hello {context.GetArgument<string?>("name")}");
    }
}
```

## Suppress a warning

If you just want to suppress a single violation, add preprocessor directives to
your source file to disable and then re-enable the rule.

```csharp
#pragma warning disable GQL021
// The code that's violating the rule is on this line.
#pragma warning restore GQL021
```

To disable the rule for a file, folder, or project, set its severity to `none` in the
[configuration file](https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/configuration-files).

```ini
[*.cs]
dotnet_diagnostic.GQL021.severity = none
```

For more information, see
[How to suppress code analysis warnings](https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/suppress-warnings).
